---
// Root index - redirects to the appropriate locale based on domain
// pierrickdeniel.com → /en/
// pierrickdeniel.fr → /fr/

const host = Astro.request.headers.get('host') || '';

// Determine locale from domain
let targetLocale = 'en';
if (host.includes('pierrickdeniel.fr') || host.includes('localhost')) {
  // For local development, check if there's a preference
  // In production, .fr domain goes to French
  if (host.includes('pierrickdeniel.fr')) {
    targetLocale = 'fr';
  }
}

// Redirect to the appropriate locale
return Astro.redirect(`/${targetLocale}/`);
---
