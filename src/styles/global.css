@import "tailwindcss";

/* Import JetBrains Mono - Satoshi is loaded via <link> in BaseLayout */
@import "@fontsource/jetbrains-mono/400.css";

/* Custom theme variables - minimal black/white like eva.town */
@theme {
  --font-sans: "Satoshi", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-mono: "JetBrains Mono", ui-monospace, monospace;

  /*
   * Fluid Type Scale - Generated with Utopia
   * https://utopia.fyi/type/calculator
   *
   * Min viewport: 320px  @ 16px base, 1.2 ratio (Minor Third)
   * Max viewport: 1240px @ 18px base, 1.25 ratio (Major Third)
   */
  --step--2: clamp(0.6944rem, 0.6727rem + 0.1087vw, 0.72rem);    /* ~11px - ~12px */
  --step--1: clamp(0.8333rem, 0.7955rem + 0.1891vw, 0.9rem);     /* ~13px - ~14px */
  --step-0: clamp(1rem, 0.9348rem + 0.3261vw, 1.125rem);         /* 16px - 18px (base) */
  --step-1: clamp(1.2rem, 1.0933rem + 0.5337vw, 1.4063rem);      /* ~19px - ~23px */
  --step-2: clamp(1.44rem, 1.2739rem + 0.8304vw, 1.7578rem);     /* ~23px - ~28px */
  --step-3: clamp(1.728rem, 1.4794rem + 1.2428vw, 2.1973rem);    /* ~28px - ~35px */
  --step-4: clamp(2.0736rem, 1.7132rem + 1.8022vw, 2.7466rem);   /* ~33px - ~44px */
  --step-5: clamp(2.4883rem, 1.9787rem + 2.5478vw, 3.4332rem);   /* ~40px - ~55px */

  /*
   * Fluid Space Scale - Synchronized with type scale
   * https://utopia.fyi/space/calculator
   */
  --space-3xs: clamp(0.25rem, 0.2283rem + 0.1087vw, 0.3125rem);   /* 4px - 5px */
  --space-2xs: clamp(0.5rem, 0.4565rem + 0.2174vw, 0.625rem);     /* 8px - 10px */
  --space-xs: clamp(0.75rem, 0.6848rem + 0.3261vw, 0.9375rem);    /* 12px - 15px */
  --space-s: clamp(1rem, 0.9348rem + 0.3261vw, 1.125rem);         /* 16px - 18px */
  --space-m: clamp(1.5rem, 1.3913rem + 0.5435vw, 1.75rem);        /* 24px - 28px */
  --space-l: clamp(2rem, 1.8696rem + 0.6522vw, 2.25rem);          /* 32px - 36px */
  --space-xl: clamp(3rem, 2.8043rem + 0.9783vw, 3.375rem);        /* 48px - 54px */
  --space-2xl: clamp(4rem, 3.7391rem + 1.3043vw, 4.5rem);         /* 64px - 72px */
  --space-3xl: clamp(6rem, 5.6087rem + 1.9565vw, 6.75rem);        /* 96px - 108px */

  /* One-up pairs for dramatic scaling */
  --space-s-m: clamp(1rem, 0.7174rem + 1.413vw, 1.75rem);         /* 16px - 28px */
  --space-m-l: clamp(1.5rem, 1.1739rem + 1.6304vw, 2.25rem);      /* 24px - 36px */
  --space-l-xl: clamp(2rem, 1.4348rem + 2.8261vw, 3.375rem);      /* 32px - 54px */

  /* Light theme - minimal palette */
  --color-bg: #fcfcfc;
  --color-bg-alt: #f4f4f4;
  --color-text: #202020;
  --color-text-muted: #6b6b6b;
  --color-border: #e8e8e8;

  /* No accent color - links are just underlined black */
  --color-link: #202020;

  /* Fluid spacing for layout */
  --spacing-page: var(--space-s-m);
  --spacing-section: var(--space-l-xl);

  /* Max width */
  --width-content: 44rem;
  --width-wide: 60rem;
}

/* Dark theme */
[data-theme="dark"] {
  --color-bg: #141414;
  --color-bg-alt: #1e1e1e;
  --color-text: #f0f0f0;
  --color-text-muted: #8a8a8a;
  --color-border: #2a2a2a;
  --color-link: #f0f0f0;
}

/* Base styles */
html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-sans);
  font-size: var(--step-0);
  line-height: 1.6;
  background-color: var(--color-bg);
  color: var(--color-text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Typography - Fluid scale from Utopia */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-sans);
  font-weight: 600;
  line-height: 1.2;
  color: var(--color-text);
  letter-spacing: -0.02em;
  text-wrap: balance;
}

h1 {
  font-size: var(--step-4);
  font-weight: 700;
  letter-spacing: -0.03em;
}

h2 {
  font-size: var(--step-2);
  font-weight: 600;
}

h3 {
  font-size: var(--step-1);
  font-weight: 600;
}

h4 {
  font-size: var(--step-0);
  font-weight: 600;
}

small, .text-sm {
  font-size: var(--step--1);
}

.text-xs {
  font-size: var(--step--2);
}

/* Links - simple underline, no color */
a {
  color: var(--color-link);
  text-decoration: underline;
  text-underline-offset: 3px;
  text-decoration-thickness: 1px;
  transition: opacity 0.2s ease, text-shadow 0.2s ease;
  opacity: 0.7;
}

a:hover {
  opacity: 1;
}

/* Remove underline for nav links */
nav a {
  text-decoration: none;
  opacity: 0.7;
}

nav a:hover {
  opacity: 1;
}

/* Glow effect in dark mode */
[data-theme="dark"] a:hover {
  text-shadow: 0 0 12px rgba(240, 240, 240, 0.5);
}

[data-theme="dark"] nav a:hover {
  text-shadow: 0 0 12px rgba(240, 240, 240, 0.5);
}

/* Selection */
::selection {
  background-color: var(--color-text);
  color: var(--color-bg);
}

/* Code */
code {
  font-family: var(--font-mono);
  font-size: 0.875em;
  background-color: var(--color-bg-alt);
  padding: 0.15em 0.4em;
  border-radius: 4px;
}

pre {
  font-family: var(--font-mono);
  font-size: 0.875em;
  background-color: var(--color-bg-alt);
  padding: 1.25rem;
  border-radius: 8px;
  overflow-x: auto;
}

pre code {
  background: none;
  padding: 0;
}

/* Focus */
:focus-visible {
  outline: 2px solid var(--color-text);
  outline-offset: 2px;
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
