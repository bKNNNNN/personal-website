---
import BaseLayout from './BaseLayout.astro';
import '../styles/prose.css';

interface Props {
  title: string;
  description: string;
  date: Date;
  updatedDate?: Date;
  tags?: string[];
  image?: string;
}

const { title, description, date, updatedDate, tags, image } = Astro.props;

const formattedDate = date.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});

const formattedUpdatedDate = updatedDate?.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<BaseLayout title={title} description={description} image={image}>
  <article class="max-w-[var(--width-content)] mx-auto px-[var(--spacing-page)] py-16">
    <header class="mb-12">
      <p class="text-sm text-[var(--color-text-muted)] mb-4">
        <time datetime={date.toISOString()}>{formattedDate}</time>
        {updatedDate && <span> · Updated {formattedUpdatedDate}</span>}
      </p>
      <h1 class="mb-4">{title}</h1>
      <p class="text-[var(--color-text-muted)]">{description}</p>
    </header>

    <div class="prose">
      <slot />
    </div>

    <footer class="mt-16 pt-8 border-t border-[var(--color-border)]">
      <a href="/blog" class="text-sm text-[var(--color-text-muted)]">
        ← Back to writing
      </a>
    </footer>
  </article>
</BaseLayout>
